<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>举报问题</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	</head>
	<link rel="stylesheet" type="text/css" href="css/4real-report.css" />

	<body>
		<h2>举报问题</h2>
		<div class="top">
			<strong>是否实名举报</strong>
			<div class="btn"> <span id="length"></span></div>
			<div class="is-realname">
				<input type="text" placeholder="举报人姓名" />
				<input type="" id="ID" onchange="IDcheck()" placeholder="举报人身份证号" />
				<input type="number" id="phones" onchange="phones()" placeholder="举报人联系方式" />
			</div>
			<div class="checked-sunmary">
				纪检监察机关鼓励署真实姓名和准确联系方式的实名举报。对认定为实名举报的，将优先办理，及时反馈办理结果。
			</div>
		</div>
		<!--被举报人信息-->
		<div class="be-checked">
			<input type="text"  placeholder="被举报人姓名" />
			<input type="text" placeholder="被举报人单位及职位" />
			<input type="text" placeholder="被举报人级别" />
			<strong class="qusetion">问题属地: </strong><br />
			<div class="container1">
				<select name="">
					<option value="">省/市</option>
					<option value="">河南省</option>
					<option value="">山东省</option>
				</select>
			</div>
			<div class="container2">
				<select name="">
					<option value="">市/县</option>
					<option value="">郑州市</option>
					<option value="">菏泽市</option>
				</select>
			</div>
			<input type="" placeholder="举报问题类别" />
			<input type="" placeholder="举报问题细类" />
			<strong class="texts">举报内容</strong><br />
			<textarea name="" class="check-text" placeholder="请参照举报指南中的举报模板详细描述举报问题,5000字以内"></textarea>
			<span class="addfile">添加文件<input type="file" onchange="filesize(this)" /></span>
			<em></em>
			<span>提示:附件可上传文档,图片,音频,视频等,最多上传3个附件,每个附件大小不超过5M</span>
		</div>
		<button class="submit">提交</button>
	</body>
	<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
	<script type="text/javascript">
		//点击按钮隐藏实名举报
		$(".btn").on("click", function() {
			$(".is-realname").toggleClass('tog')
			$(".btn span").toggleClass('pos')
			$(".checked-sunmary").toggleClass("notog")
		})
		//正则表达
		//身份证的验证
		var IDs=false;
		function IDcheck() {
			var reg = /^[1-9]{1}[0-9]{14}$|^[1-9]{1}[0-9]{16}([0-9]|[xX])$/;
			if(reg.test($("#ID").val())) {
				IDs=true;
			} else {
				IDs=false;
			    alert("请输入正确信息")
			}
			console.log(IDs)
		}
		//手机号验证
		var ph=false;
	    function phones(){
	    	    var reg1 =/^1[3|4|5|8][0-9]\d{4,8}$/;
	    	    console.log($("#phones").val())
	    	    if(reg1.test($("#phones").val())){
	    	      ph=true;
	    	    }else{
	    	     alert("请输入正确手机号")
	    	      ph=false;
	    	    }
	    }
	    //判断输入框的值是否为空
	    var inputs=document.getElementsByTagName("input");
	    var contents=true;
	    for(var i=0;i<inputs.length;i++){
	    	var vals=inputs[i].value;
	    	    if(vals==" "){
	    	    	 contents=false;
	    	    	 break;
	    	    }
	    }
	    //判断上传文件的大小
	    var fsize=false
	    function filesize(ele){
	    	 var num=parseInt((ele.files[0].size / 1024).toFixed(2));
	    	 if(num<5120){
	    	 	fsize=true;
	    	 }else{
	    	 	alert("您上传的文件过大");
	    	 	fsize=false;
	    	 }
	    }
	    
	    
	   $(".submit").on("click",function(){
	   	if((contents&&ph&&IDs&&fsize)){
	   		location.href="5.response.html";
//	   		alert("请输如完整信息");
	   	}else{
	   		alert("请输如完整信息");
	   	}
	   })
	    
	    
	</script>

</html>